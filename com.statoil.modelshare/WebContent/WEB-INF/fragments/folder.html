<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8"/>
	<title>Upload</title>
</head>
<body>
	<div th:fragment="folder(currentFolder, models, client)">
		<div th:if="${currentFolder}" class="details">
			<a th:href="@{/showModel(item=${currentFolder},leaf=${false},showNewFolder=true)}">
				<span class="btn btn-default save-button">New subfolder</span>
			</a>
			<a th:href="@{/showModel(item=${currentFolder},leaf=${false},showUploadFile=true)}">
				<span class="btn btn-default save-button">Upload model file</span>
			</a>

<!--  If new folder -->			
			<div th:if="${showNewFolder}" class="text-label" th:inline="text">Create new subfolder<p/>
				<form action="archive.html" th:action="@{/createFolder}" method="post" enctype="multipart/form-data"><p />
					<input type="hidden" name="path" th:value="${currentFolder}" />
					<label class="form-label" for="name">Folder</label><input class="form-input" type="text" id="name" name="name" placeholder="The folder name" /><p />
			       	<input class="btn btn-default save-button" type="submit" value="Create folder" />
			    </form>
		    </div>

<!--  If upload file -->		    
			<div th:if="${showUploadFile}" class="text-label">Upload new model file<p/>
				<form action="archive.html" th:action="@{/fileUpload}" method="post" enctype="multipart/form-data"><p />
					<label class="form-label" for="owner">Owner</label><input class="form-input" type="text" id="owner" name="owner" th:value="${client.name}" readonly="readonly" /><p />
					<label class="form-label" for="email">Email</label><input class="form-input" type="text" id="email" name="email" th:value="${client.email}" readonly="readonly" /><p />
					<label class="form-label" for="organisation">Organisation</label><input class="form-input" type="text" id="organisation" name="organisation" readonly="readonly" th:value="${client.organisation}" /><p />
					<label class="form-label" for="usage">How to use the model</label><textarea class="form-input usage-input" id="usage" name="usage" placeholder="Description of use"></textarea><p />
					<input type="hidden" name="path" th:value="${currentFolder}" />
			       	<input class="btn btn-default" type="file" name="uploadFile" /><p/><p/>
			       	<input class="btn btn-default save-button" type="submit" value="Save file" />
			    </form>
		    </div>
		    
		</div>
	</div>
</body>
</html>
